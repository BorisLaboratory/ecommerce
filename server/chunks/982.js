exports.id=982,exports.ids=[982],exports.modules={7298:(e,r,t)=>{let a={"1d6654c927322ecb02258c9b3a13366b842fab8b":()=>Promise.resolve().then(t.bind(t,2409)).then(e=>e.updateProduct),"68a17c2b0e0d13c3667587f2686c404383860619":()=>Promise.resolve().then(t.bind(t,2409)).then(e=>e.toggleProductAvailability),"759b91dec0b10239e4b391d9af1b364ddea4dd51":()=>Promise.resolve().then(t.bind(t,2409)).then(e=>e.deleteProduct),abe96491469a16babe42722f78a8b5c044aefe21:()=>Promise.resolve().then(t.bind(t,2409)).then(e=>e.addProduct)};async function i(e,...r){return(await a[e]()).apply(null,r)}e.exports={"1d6654c927322ecb02258c9b3a13366b842fab8b":i.bind(null,"1d6654c927322ecb02258c9b3a13366b842fab8b"),"68a17c2b0e0d13c3667587f2686c404383860619":i.bind(null,"68a17c2b0e0d13c3667587f2686c404383860619"),"759b91dec0b10239e4b391d9af1b364ddea4dd51":i.bind(null,"759b91dec0b10239e4b391d9af1b364ddea4dd51"),abe96491469a16babe42722f78a8b5c044aefe21:i.bind(null,"abe96491469a16babe42722f78a8b5c044aefe21")}},4415:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},7031:()=>{},5135:(e,r,t)=>{Promise.resolve().then(t.bind(t,7795))},559:(e,r,t)=>{Promise.resolve().then(t.bind(t,7600))},5303:()=>{},9029:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{default:function(){return o},getImageProps:function(){return d}});let a=t(1174),i=t(3078),n=t(2481),s=a._(t(6820));function d(e){let{props:r}=(0,i.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(r))void 0===t&&delete r[e];return{props:r}}let o=n.Image},5333:(e,r,t)=>{"use strict";t.d(r,{Ir:()=>i,gK:()=>s,lV:()=>d,nM:()=>n}),t(5424);var a=t(6242),i=(0,a.$)("759b91dec0b10239e4b391d9af1b364ddea4dd51"),n=(0,a.$)("1d6654c927322ecb02258c9b3a13366b842fab8b"),s=(0,a.$)("abe96491469a16babe42722f78a8b5c044aefe21"),d=(0,a.$)("68a17c2b0e0d13c3667587f2686c404383860619")},7795:(e,r,t)=>{"use strict";t.d(r,{ProductForm:()=>j});var a=t(326),i=t(7577),n=t(4214),s=t(8671),d=t(1223);let o=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef(({className:e,variant:r,size:t,asChild:i=!1,...s},c)=>{let l=i?n.g7:"button";return a.jsx(l,{className:(0,d.cn)(o({variant:r,size:t,className:e})),ref:c,...s})});c.displayName="Button";let l=i.forwardRef(({className:e,type:r,...t},i)=>a.jsx("input",{type:r,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...t}));l.displayName="Input";var u=t(5353),f=t(5226);let m=(0,i.forwardRef)((e,r)=>(0,i.createElement)(f.WV.label,(0,u.Z)({},e,{ref:r,onMouseDown:r=>{var t;null===(t=e.onMouseDown)||void 0===t||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault()}}))),b=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),p=i.forwardRef(({className:e,...r},t)=>a.jsx(m,{ref:t,className:(0,d.cn)(b(),e),...r}));p.displayName=m.displayName;let v=i.forwardRef(({className:e,...r},t)=>a.jsx("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...r}));v.displayName="Textarea";let h=new Intl.NumberFormat("en-US",{currency:"USD",style:"currency",minimumFractionDigits:0});new Intl.NumberFormat("en-US");var g=t(5333),x=t(962),y=t(9029),P=t.n(y);function j({product:e}){var r;let[t,n]=(0,x.useFormState)(null==e?g.gK:g.nM.bind(null,e.id),{}),[s,d]=(0,i.useState)(e?.priceInCents);return(0,a.jsxs)("form",{action:n,className:" space-y-8",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(p,{htmlFor:"name",children:"Name"}),a.jsx(l,{type:"text",id:"name",name:"name",required:!0,defaultValue:e?.name||""}),t.name&&a.jsx("div",{className:"text-destructive",children:t.name})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(p,{htmlFor:"priceInCents",children:"Price In Cents"}),a.jsx(l,{type:"number",id:"priceInCents",name:"priceInCents",required:!0,value:s,onChange:e=>d(Number(e.target.value)||void 0)}),t.priceInCents&&a.jsx("div",{className:"text-destructive",children:t.priceInCents}),a.jsx("div",{className:"text-muted-foreground",children:(r=(s||0)/100,h.format(r))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(p,{htmlFor:"description",children:"Description"}),a.jsx(v,{id:"description",name:"description",required:!0,defaultValue:e?.description}),t.description&&a.jsx("div",{className:"text-destructive",children:t.description})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(p,{htmlFor:"file",children:"File"}),a.jsx(l,{type:"file",id:"file",name:"file",required:null==e}),null!=e&&a.jsx("div",{className:"text-muted-foreground",children:e.filePath}),t.file&&a.jsx("div",{className:"text-destructive",children:t.file})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(p,{htmlFor:"image",children:"Image"}),a.jsx(l,{type:"file",id:"image",name:"image",required:null==e}),null!=e&&a.jsx(P(),{src:e.imagePath,height:"400",width:"400",alt:"pProduct iImage"}),t.image&&a.jsx("div",{className:"text-destructive",children:t.image})]}),a.jsx(w,{})]})}function w(){let{pending:e}=(0,x.useFormStatus)();return a.jsx(c,{type:"submit",disabled:e,children:e?"Saving...":"Save"})}},7600:(e,r,t)=>{"use strict";t.d(r,{NavLink:()=>o,default:()=>d});var a=t(326),i=t(1223),n=t(434),s=t(5047);function d({children:e}){return a.jsx("nav",{className:"bg-primary text-primary-foreground   flex justify-center px-4",children:e})}function o(e){let r=(0,s.usePathname)();return a.jsx(n.default,{...e,className:(0,i.cn)("p-4 bg-black-500 hover:text-secondary-foreground focus-visible:bg-secondary focus-visible:text-secondary-foreground",r===e.href&&"bg-background text-foreground")})}t(7577)},1223:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var a=t(1135),i=t(1009);function n(...e){return(0,i.m6)((0,a.W)(e))}},2409:(e,r,t)=>{"use strict";t.r(r),t.d(r,{addProduct:()=>v,deleteProduct:()=>g,toggleProductAvailability:()=>h,updateProduct:()=>b});var a=t(7745);t(6461);var i=t(8313),n=t(692),s=t(3292),d=t.n(s),o=t(4739),c=t(207),l=t(5723);let u=n.z.instanceof(File,{message:"Required"}),f=u.refine(e=>0===e.size||e.type.startsWith("image/")),m=n.z.object({name:n.z.string().min(1),description:n.z.string().min(1),priceInCents:n.z.coerce.number().int().min(0),file:u.refine(e=>e.size>0,"Required"),image:u.refine(e=>e.size>0,"Required")});async function b(e,r,t){let a=p.safeParse(Object.fromEntries(t.entries()));if(!1===a.success)return a.error.formErrors.fieldErrors;let n=a.data,s=await i.default.product.findUnique({where:{id:e}});if(null==s)return(0,o.notFound)();let l=s.filePath;null!=n.file&&n.file.size>0&&(await d().unlink(s.filePath),l=`products/${crypto.randomUUID()}-${n.file.name}`,await d().writeFile(l,Buffer.from(await n.file.arrayBuffer())));let u=s.imagePath;null!=n.image&&n.image.size>0&&(await d().unlink(`public${s.imagePath}`),u=`/products/${crypto.randomUUID()}-${n.image.name}`,await d().writeFile(`public${u}`,Buffer.from(await n.image.arrayBuffer()))),await i.default.product.update({where:{id:e},data:{name:n.name,description:n.description,priceInCents:n.priceInCents,filePath:l,imagePath:u}}),(0,c.revalidatePath)("/"),(0,c.revalidatePath)("/products"),(0,o.redirect)("/admin/products")}let p=m.extend({file:u.optional(),image:f.optional()});async function v(e,r){let t=m.safeParse(Object.fromEntries(r.entries()));if(!1===t.success)return t.error.formErrors.fieldErrors;let a=t.data;await d().mkdir("products",{recursive:!0});let n=`products/${crypto.randomUUID()}-${a.file.name}`;await d().writeFile(n,Buffer.from(await a.file.arrayBuffer())),await d().mkdir("public/products",{recursive:!0});let s=`/products/${crypto.randomUUID()}-${a.image.name}`;await d().writeFile(`public${s}`,Buffer.from(await a.image.arrayBuffer())),await i.default.product.create({data:{isAvailableForPurchase:!1,name:a.name,description:a.description,priceInCents:a.priceInCents,filePath:n,imagePath:s}}),(0,c.revalidatePath)("/"),(0,c.revalidatePath)("/products"),(0,o.redirect)("/admin/products")}async function h(e,r){await i.default.product.update({where:{id:e},data:{isAvailableForPurchase:r}}),(0,c.revalidatePath)("/"),(0,c.revalidatePath)("/products")}async function g(e){let r=await i.default.product.delete({where:{id:e}});if(null==r)return(0,o.notFound)();await d().unlink(r.filePath),await d().unlink(`public${r.imagePath}`),(0,c.revalidatePath)("/"),(0,c.revalidatePath)("/products")}(0,l.ensureServerEntryExports)([b,v,h,g]),(0,a.registerServerReference)("1d6654c927322ecb02258c9b3a13366b842fab8b",b),(0,a.registerServerReference)("abe96491469a16babe42722f78a8b5c044aefe21",v),(0,a.registerServerReference)("68a17c2b0e0d13c3667587f2686c404383860619",h),(0,a.registerServerReference)("759b91dec0b10239e4b391d9af1b364ddea4dd51",g)},4569:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(9510);function i({children:e}){return a.jsx("h1",{className:" text-4xl mb-4",children:e})}},9457:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s,dynamic:()=>n});var a=t(9510),i=t(6029);t(1159);let n="force-dynamic";function s({children:e}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.ZP,{children:[a.jsx(i.OL,{href:"/admin",children:" Dashboard "}),a.jsx(i.OL,{href:"/admin/products",children:" Products "}),a.jsx(i.OL,{href:"/admin/users",children:" Customers "}),a.jsx(i.OL,{href:"/admin/orders",children:" Sales "})]}),(0,a.jsxs)("div",{className:"container my-6",children:[e," "]})]})}},9342:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var a=t(9510),i=t(9541);function n(){return a.jsx("div",{className:"flex justify-center",children:a.jsx(i.Z,{className:"size-24 animate-spin"})})}t(1159)},6201:(e,r,t)=>{"use strict";t.d(r,{H:()=>d});var a=t(8570);let i=(0,a.createProxy)(String.raw`C:\Users\Coder\Documents\DEV\PortfolioGithub\ecomercem15\ecommerce\nextstore\src\app\admin\products\_components\ProductForm.tsx`),{__esModule:n,$$typeof:s}=i;i.default;let d=(0,a.createProxy)(String.raw`C:\Users\Coder\Documents\DEV\PortfolioGithub\ecomercem15\ecommerce\nextstore\src\app\admin\products\_components\ProductForm.tsx#ProductForm`)},2029:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o,metadata:()=>d});var a=t(9510),i=t(4481),n=t.n(i);t(5023);var s=t(644);let d={title:"e-commerce",description:"The powers of Next-js14,TypeScript,Tailwind css,shadcn,prisma Database"};function o({children:e}){return a.jsx("html",{children:a.jsx("body",{className:(0,s.cn)("min-h-screen  bg-background font-sans antialiased",n().variable),children:e})})}},6029:(e,r,t)=>{"use strict";t.d(r,{OL:()=>o,ZP:()=>d});var a=t(8570);let i=(0,a.createProxy)(String.raw`C:\Users\Coder\Documents\DEV\PortfolioGithub\ecomercem15\ecommerce\nextstore\src\components\Nav.tsx`),{__esModule:n,$$typeof:s}=i;i.default;let d=(0,a.createProxy)(String.raw`C:\Users\Coder\Documents\DEV\PortfolioGithub\ecomercem15\ecommerce\nextstore\src\components\Nav.tsx#default`),o=(0,a.createProxy)(String.raw`C:\Users\Coder\Documents\DEV\PortfolioGithub\ecomercem15\ecommerce\nextstore\src\components\Nav.tsx#NavLink`)},8313:(e,r,t)=>{"use strict";t.d(r,{default:()=>i});var a=t(3524);let i=globalThis.prisma??new a.PrismaClient},644:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var a=t(5761),i=t(2386);function n(...e){return(0,i.m6)((0,a.W)(e))}},5023:()=>{}};